<!DOCTYPE html>
<html lang="zh-TW">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>æ¥é§è»Šé ç´„ç¯„ä¾‹</title>
<style>
  body {
    font-family: Arial, sans-serif;
    background-color: #fff8f0;
    margin: 0;
    padding: 20px;
  }

  h2 {
    text-align: center;
    color: #ff7f2a;
  }

  .step {
    display: none;
    margin-top: 20px;
    text-align: center;
  }

  .active {
    display: block;
  }

  .button-group {
    display: flex;
    justify-content: center;
    gap: 20px;
    flex-wrap: wrap;
  }

  .btn {
    background-color: #ff7f2a;
    color: white;
    padding: 15px 30px;
    font-size: 18px;
    border: none;
    border-radius: 15px;
    cursor: pointer;
    transition: transform 0.2s, box-shadow 0.2s;
  }

  .btn:hover {
    transform: scale(1.05);
    box-shadow: 0 4px 15px rgba(0,0,0,0.2);
  }

  .card-group {
    display: flex;
    justify-content: center;
    flex-wrap: wrap;
    gap: 20px;
    margin-top: 20px;
  }

  .card {
    background-color: white;
    border-radius: 15px;
    box-shadow: 0 2px 8px rgba(0,0,0,0.1);
    padding: 20px;
    width: 200px;
    transition: transform 0.2s, box-shadow 0.2s;
    cursor: pointer;
  }

  .card:hover {
    transform: scale(1.03);
    box-shadow: 0 6px 20px rgba(0,0,0,0.2);
  }

  .card h3 {
    margin: 0 0 10px 0;
    color: #ff7f2a;
  }

  .card p {
    margin: 5px 0;
    color: #555;
  }

  .back-btn {
    margin-top: 20px;
    background-color: #ccc;
    color: #333;
  }

  .back-btn:hover {
    background-color: #bbb;
  }
</style>
</head>
<body>

<h2>æ¥é§è»Šé ç´„ç¯„ä¾‹</h2>

<!-- Step 1: å»ç¨‹ / å›ç¨‹ -->
<div id="step1" class="step active">
  <div class="button-group">
    <button class="btn" onclick="selectDirection('å»ç¨‹')">ğŸš— å»ç¨‹</button>
    <button class="btn" onclick="selectDirection('å›ç¨‹')">ğŸ  å›ç¨‹</button>
  </div>
</div>

<!-- Step 2: æ—¥æœŸ -->
<div id="step2" class="step">
  <h3 id="directionTitle"></h3>
  <div class="card-group" id="dateCards"></div>
  <button class="btn back-btn" onclick="goBack(1)">â† è¿”å›æ–¹å‘é¸æ“‡</button>
</div>

<!-- Step 3: ç«™é» -->
<div id="step3" class="step">
  <h3 id="dateTitle"></h3>
  <div class="card-group" id="stationCards"></div>
  <button class="btn back-btn" onclick="goBack(2)">â† è¿”å›æ—¥æœŸé¸æ“‡</button>
</div>

<!-- Step 4: ç­æ¬¡ -->
<div id="step4" class="step">
  <h3 id="stationTitle"></h3>
  <div class="card-group" id="scheduleCards"></div>
  <button class="btn back-btn" onclick="goBack(3)">â† è¿”å›ç«™é»é¸æ“‡</button>
</div>

<script>
  // å‡è³‡æ–™
  const data = {
    "å»ç¨‹": {
      "2025-08-15": {
        "æ·é‹ç«™": [
          {time: "08:00", available: 5},
          {time: "09:00", available: 0},
          {time: "10:00", available: 8}
        ],
        "ç«è»Šç«™": [
          {time: "08:30", available: 2},
          {time: "09:30", available: 4}
        ],
        "å•†å ´": [
          {time: "09:00", available: 6}
        ]
      },
      "2025-08-16": {
        "æ·é‹ç«™": [
          {time: "08:00", available: 3}
        ]
      }
    },
    "å›ç¨‹": {
      "2025-08-15": {
        "æ·é‹ç«™": [
          {time: "18:00", available: 5}
        ],
        "ç«è»Šç«™": [
          {time: "18:30", available: 0}
        ],
        "å•†å ´": [
          {time: "19:00", available: 7}
        ]
      }
    }
  };

  let selectedDirection = '';
  let selectedDate = '';
  let selectedStation = '';

  function showStep(stepNum) {
    document.querySelectorAll('.step').forEach((el, idx) => {
      el.classList.remove('active');
    });
    document.getElementById('step' + stepNum).classList.add('active');
  }

  function selectDirection(direction) {
    selectedDirection = direction;
    document.getElementById('directionTitle').innerText = `é¸æ“‡æ—¥æœŸ (${direction})`;

    const dates = Object.keys(data[direction]);
    const dateCards = document.getElementById('dateCards');
    dateCards.innerHTML = '';

    dates.forEach(date => {
      const card = document.createElement('div');
      card.className = 'card';
      card.innerHTML = `<h3>${date}</h3><p>ç­æ¬¡: ${Object.keys(data[direction][date]).length}</p>`;
      card.onclick = () => selectDate(date);
      dateCards.appendChild(card);
    });

    showStep(2);
  }

  function selectDate(date) {
    selectedDate = date;
    document.getElementById('dateTitle').innerText = `é¸æ“‡ç«™é» (${selectedDirection} - ${date})`;

    const stations = Object.keys(data[selectedDirection][date]);
    const stationCards = document.getElementById('stationCards');
    stationCards.innerHTML = '';

    stations.forEach(station => {
      const card = document.createElement('div');
      card.className = 'card';
      card.innerHTML = `<h3>${station}</h3>`;
      card.onclick = () => selectStation(station);
      stationCards.appendChild(card);
    });

    showStep(3);
  }

  function selectStation(station) {
    selectedStation = station;
    document.getElementById('stationTitle').innerText = `ç­æ¬¡ (${selectedDirection} - ${selectedDate} - ${station})`;

    const schedules = data[selectedDirection][selectedDate][station];
    const scheduleCards = document.getElementById('scheduleCards');
    scheduleCards.innerHTML = '';

    schedules.forEach(sch => {
      const card = document.createElement('div');
      card.className = 'card';
      card.innerHTML = `<h3>${sch.time}</h3>
                        <p>å‰©é¤˜äººæ•¸: ${sch.available}</p>
                        <button class="btn" onclick="alert('é ç´„: ${sch.time}')">ç«‹å³é ç´„</button>`;
      scheduleCards.appendChild(card);
    });

    showStep(4);
  }

  function goBack(stepNum) {
    showStep(stepNum);
  }

</script>

</body>
</html>
